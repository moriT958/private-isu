# 試したこととかまとめてく

ローカルで実行してみる

```bash
make dev
make bench
```

めっちゃタイムアウトした。

```json
{
  "pass": true,
  "score": 0,
  "success": 173,
  "fail": 63,
  "messages": [
    "リクエストがタイムアウトしました (GET /)",
    "リクエストがタイムアウトしました (GET /@angie)",
    "リクエストがタイムアウトしました (GET /@bertie)",
    "リクエストがタイムアウトしました (GET /@brigitte)",
    "リクエストがタイムアウトしました (GET /@elisa)",
    "リクエストがタイムアウトしました (GET /@jimmie)",
    "リクエストがタイムアウトしました (GET /@jolene)",
    "リクエストがタイムアウトしました (GET /@juliana)",
    "リクエストがタイムアウトしました (GET /@milagros)",
    "リクエストがタイムアウトしました (GET /@nettie)",
    "リクエストがタイムアウトしました (POST /login)",
    "リクエストがタイムアウトしました (POST /register)"
  ]
}
```

試しにインデックス貼ってみる (なんとなく)

```bash
$ mysql -h 127.0.0.1 -P 3306 -u root -p isuconp
mysql> alter table `comments` add index `post_id_idx` (`post_id`);
```

タイムアウトは無くなった。

```json
{ "pass": true, "score": 27393, "success": 25604, "fail": 0, "messages": [] }
```
